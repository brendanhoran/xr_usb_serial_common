--- xr_usb_serial_common.c
+++ xr_usb_serial_common.c
@@ -1623,7 +1623,7 @@ static int xr_usb_serial_reset_resume(st
 {
 	struct xr_usb_serial *xr_usb_serial = usb_get_intfdata(intf);
     struct tty_struct *tty;
-	if (test_bit(ASYNCB_INITIALIZED, &xr_usb_serial->port.flags)){
+	if (tty_port_initialized(&xr_usb_serial->port)){
 #if LINUX_VERSION_CODE > KERNEL_VERSION(3, 9, 0)	
 	tty_port_tty_hangup(&xr_usb_serial->port, false);
 #else
